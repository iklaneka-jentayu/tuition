// Multi-language support
const translations = {
    en: {
        // Navigation
        "nav.home": "Home",
        "nav.subjects": "Subjects",
        "nav.about": "About",
        "nav.testimonials": "Testimonials",
        "nav.enroll": "Enroll Now",
        "nav.login": "Login",
        
        // Hero
        "hero.title": "Excel in Secondary School with Expert Tuition",
        "hero.subtitle": "Personalized online and offline tutoring for all subjects. Join 2,000+ students who improved their grades by 30% on average.",
        "hero.cta": "Start Free Trial",
        "hero.subjects": "View Subjects",
        
        // Subjects
        "subjects.title": "Comprehensive Subject Coverage",
        "subjects.subtitle": "We offer expert tutoring for all secondary school subjects from Form 1 to Form 5",
        "subjects.math": "Mathematics",
        "subjects.math_desc": "Algebra, Geometry, Calculus, Statistics",
        "subjects.science": "Science",
        "subjects.science_desc": "Physics, Chemistry, Biology, General Science",
        "subjects.english": "English",
        "subjects.english_desc": "Grammar, Literature, Composition, Comprehension",
        "subjects.malay": "Bahasa Malaysia",
        "subjects.malay_desc": "Grammar, Karangan, Kefahaman, Sastera",
        "subjects.mandarin": "Mandarin",
        "subjects.mandarin_desc": "Writing, Reading, Speaking, Comprehension",
        "subjects.history": "History & Geography",
        "subjects.history_desc": "Malaysian History, World History, Physical Geography",
        
        // About
        "about.title": "Why Choose EduSmart Tuition?",
        "about.feature1_title": "Expert Tutors",
        "about.feature1_desc": "All our tutors are certified teachers with 5+ years of experience",
        "about.feature2_title": "Flexible Learning",
        "about.feature2_desc": "Choose between online live classes or in-person tuition at our centers",
        "about.feature3_title": "Proven Results",
        "about.feature3_desc": "94% of our students improve their grades within 3 months",
        "about.feature4_title": "Flexible Scheduling",
        "about.feature4_desc": "Classes available on weekdays, weekends, and during school holidays",
        
        // Testimonials
        "testimonials.title": "What Parents & Students Say",
        "testimonial1.text": "My daughter's math grade improved from C to A in just 4 months. The tutors are patient and explain concepts clearly.",
        "testimonial1.name": "Amina Hassan",
        "testimonial1.role": "Parent of Form 3 Student",
        "testimonial2.text": "The online classes are so convenient. I can learn from home and the interactive platform makes it engaging.",
        "testimonial2.name": "Wei Chen",
        "testimonial2.role": "Form 5 Student",
        "testimonial3.text": "EduSmart helped my son gain confidence in Science. He's now scoring As and actually enjoys learning.",
        "testimonial3.name": "Raj Kumar",
        "testimonial3.role": "Parent of Form 4 Student",
        
        // CTA
        "cta.title": "Ready to Boost Your Grades?",
        "cta.subtitle": "Join our free trial week with no commitment. Experience our teaching methods first-hand.",
        "cta.button": "Start Free Trial Now",
        
        // Footer
        "footer.description": "Premium online and offline tuition for secondary school students across Malaysia.",
        "footer.links": "Quick Links",
        "footer.contact": "Contact Us",
        "footer.address": "Kuala Lumpur, Malaysia",
        "footer.rights": "All rights reserved.",
        "footer.privacy": "Privacy Policy",
        "footer.terms": "Terms of Service",
		// Add these to the translations object

		// Calendar translations
		"calendar.title": "Tuition Schedule",
		"calendar.subtitle": "Manage your classes and sessions",
		"calendar.month": "Month",
		"calendar.week": "Week",
		"calendar.day": "Day",
		"calendar.add_event": "Add Class",
		"calendar.upcoming": "Upcoming Classes",
		"calendar.details": "Class Details",
		"calendar.close": "Close",
		"calendar.edit": "Edit",
		"calendar.delete": "Delete",
		"calendar.save": "Save Class",
		"calendar.cancel": "Cancel",
		"calendar.confirm_delete": "Confirm Delete",
		"calendar.delete_message": "Are you sure you want to delete this class?",
		"calendar.delete_all": "Delete all occurrences (for recurring classes)",
		"calendar.select": "Select",

		// Calendar Filters
		"calendar.filter.teacher": "Teacher:",
		"calendar.filter.subject": "Subject:",
		"calendar.filter.class_type": "Class Type:",
		"calendar.filter.all": "All",
		"calendar.filter.reset": "Reset Filters",

		// Calendar Types
		"calendar.type.online": "Online",
		"calendar.type.offline": "Offline",

		// Calendar Modal
		"calendar.modal.add": "Add New Class",
		"calendar.modal.edit": "Edit Class",
		"calendar.modal.basic": "Basic Information",
		"calendar.modal.title": "Class Title",
		"calendar.modal.subject": "Subject",
		"calendar.modal.teacher": "Teacher",
		"calendar.modal.class_type": "Class Type",
		"calendar.modal.datetime": "Date & Time",
		"calendar.modal.start_date": "Start Date",
		"calendar.modal.end_date": "End Date",
		"calendar.modal.start_time": "Start Time",
		"calendar.modal.end_time": "End Time",
		"calendar.modal.repeat": "Repeat weekly",
		"calendar.modal.repeat_until": "Repeat Until",
		"calendar.modal.repeat_days": "Repeat On",
		"calendar.modal.location": "Location Details",
		"calendar.modal.meeting_link": "Meeting Link",
		"calendar.modal.meeting_id": "Meeting ID",
		"calendar.modal.password": "Password",
		"calendar.modal.venue": "Venue",
		"calendar.modal.address": "Address",
		"calendar.modal.participants": "Participants",
		"calendar.modal.students": "Select Students",
		"calendar.modal.max_students": "Maximum Students",
		"calendar.modal.additional": "Additional Information",
		"calendar.modal.description": "Description",
		"calendar.modal.materials": "Materials Needed",
		"calendar.modal.notify": "Send notification to participants",

		// Days
		"calendar.monday": "Monday",
		"calendar.tuesday": "Tuesday", 
		"calendar.wednesday": "Wednesday",
		"calendar.thursday": "Thursday",
		"calendar.friday": "Friday",
		"calendar.saturday": "Saturday",
		"calendar.sunday": "Sunday",
		"chatbot.title": "EduSmart AI Assistant",
		"chatbot.subtitle": "Online 24/7 to help you",
		"chatbot.welcome": "Hello! I'm your EduSmart AI assistant. How can I help you today?",
		"chatbot.placeholder": "Type your message...",
		"chatbot.typing": "AI is typing...",
		"chatbot.powered": "Powered by AI",
		"chatbot.quick.packages": "Packages",
		"chatbot.quick.enroll": "Enrollment",
		"chatbot.quick.payment": "Payment",
		"chatbot.quick.schedule": "Schedule"
    },
    ms: {
        // Navigation
        "nav.home": "Laman Utama",
        "nav.subjects": "Subjek",
        "nav.about": "Tentang",
        "nav.testimonials": "Testimoni",
        "nav.enroll": "Daftar Sekarang",
        "nav.login": "Log Masuk",
        
        // Hero
        "hero.title": "Cemerlang di Sekolah Menengah dengan Tuisyen Pakar",
        "hero.subtitle": "Tuisyen peribadi dalam talian dan luar talian untuk semua subjek. Sertai 2,000+ pelajar yang meningkatkan gred mereka sebanyak 30% secara purata.",
        "hero.cta": "Mulakan Percubaan Percuma",
        "hero.subjects": "Lihat Subjek",
        
        // Subjects
        "subjects.title": "Liputan Subjek Komprehensif",
        "subjects.subtitle": "Kami menawarkan tuisyen pakar untuk semua subjek sekolah menengah dari Tingkatan 1 hingga Tingkatan 5",
        "subjects.math": "Matematik",
        "subjects.math_desc": "Algebra, Geometri, Kalkulus, Statistik",
        "subjects.science": "Sains",
        "subjects.science_desc": "Fizik, Kimia, Biologi, Sains Am",
        "subjects.english": "Bahasa Inggeris",
        "subjects.english_desc": "Tatabahasa, Sastera, Karangan, Kefahaman",
        "subjects.malay": "Bahasa Malaysia",
        "subjects.malay_desc": "Tatabahasa, Karangan, Kefahaman, Sastera",
        "subjects.mandarin": "Bahasa Mandarin",
        "subjects.mandarin_desc": "Penulisan, Membaca, Bertutur, Kefahaman",
        "subjects.history": "Sejarah & Geografi",
        "subjects.history_desc": "Sejarah Malaysia, Sejarah Dunia, Geografi Fizikal",
        
        // About
        "about.title": "Mengapa Pilih Tuisyen EduSmart?",
        "about.feature1_title": "Tutor Pakar",
        "about.feature1_desc": "Semua tutor kami adalah guru bertauliah dengan pengalaman 5+ tahun",
        "about.feature2_title": "Pembelajaran Fleksibel",
        "about.feature2_desc": "Pilih antara kelas dalam talian secara langsung atau tuisyen bersemuka di pusat kami",
        "about.feature3_title": "Keputusan Terbukti",
        "about.feature3_desc": "94% pelajar kami meningkatkan gred dalam tempoh 3 bulan",
        "about.feature4_title": "Jadual Fleksibel",
        "about.feature4_desc": "Kelas tersedia pada hari bekerja, hujung minggu, dan semasa cuti sekolah",
        
        // Testimonials
        "testimonials.title": "Kata Ibu Bapa & Pelajar",
        "testimonial1.text": "Gred matematik anak perempuan saya meningkat dari C ke A hanya dalam 4 bulan. Tutor sabar dan menerangkan konsep dengan jelas.",
        "testimonial1.name": "Amina Hassan",
        "testimonial1.role": "Ibu Bapa Pelajar Tingkatan 3",
        "testimonial2.text": "Kelas dalam talian sangat mudah. Saya boleh belajar dari rumah dan platform interaktif menjadikannya menarik.",
        "testimonial2.name": "Wei Chen",
        "testimonial2.role": "Pelajar Tingkatan 5",
        "testimonial3.text": "EduSmart membantu anak lelaki saya yakin dalam Sains. Sekarang dia mendapat A dan sebenarnya seronok belajar.",
        "testimonial3.name": "Raj Kumar",
        "testimonial3.role": "Ibu Bapa Pelajar Tingkatan 4",
        
        // CTA
        "cta.title": "Bersedia untuk Meningkatkan Gred Anda?",
        "cta.subtitle": "Sertai minggu percubaan percuma kami tanpa komitmen. Alami kaedah pengajaran kami secara langsung.",
        "cta.button": "Mulakan Percubaan Percuma Sekarang",
        
        // Footer
        "footer.description": "Tuisyen dalam talian dan luar talian premium untuk pelajar sekolah menengah di seluruh Malaysia.",
        "footer.links": "Pautan Pantas",
        "footer.contact": "Hubungi Kami",
        "footer.address": "Kuala Lumpur, Malaysia",
        "footer.rights": "Hak cipta terpelihara.",
        "footer.privacy": "Dasar Privasi",
        "footer.terms": "Terma Perkhidmatan"
    },
    zh: {
        // Navigation
        "nav.home": "首页",
        "nav.subjects": "科目",
        "nav.about": "关于我们",
        "nav.testimonials": "评价",
        "nav.enroll": "立即报名",
        "nav.login": "登录",
        
        // Hero
        "hero.title": "专家辅导助您在中学取得优异成绩",
        "hero.subtitle": "为所有科目提供个性化的在线和线下辅导。加入超过2,000名平均成绩提升30%的学生行列。",
        "hero.cta": "开始免费试课",
        "hero.subjects": "查看科目",
        
        // Subjects
        "subjects.title": "全面的科目覆盖",
        "subjects.subtitle": "我们为中学一年级至五年级的所有科目提供专家辅导",
        "subjects.math": "数学",
        "subjects.math_desc": "代数、几何、微积分、统计学",
        "subjects.science": "科学",
        "subjects.science_desc": "物理、化学、生物、综合科学",
        "subjects.english": "英语",
        "subjects.english_desc": "语法、文学、写作、理解",
        "subjects.malay": "马来语",
        "subjects.malay_desc": "语法、作文、理解、文学",
        "subjects.mandarin": "华语",
        "subjects.mandarin_desc": "写作、阅读、口语、理解",
        "subjects.history": "历史与地理",
        "subjects.history_desc": "马来西亚历史、世界历史、自然地理",
        
        // About
        "about.title": "为什么选择EduSmart辅导？",
        "about.feature1_title": "专业导师",
        "about.feature1_desc": "我们所有的导师都是持有认证资格、拥有5年以上经验的教师",
        "about.feature2_title": "灵活学习",
        "about.feature2_desc": "选择在线直播课程或到我们的中心进行面对面辅导",
        "about.feature3_title": "效果显著",
        "about.feature3_desc": "94%的学生在3个月内成绩提升",
        "about.feature4_title": "灵活安排",
        "about.feature4_desc": "工作日、周末和学校假期均有课程",
        
        // Testimonials
        "testimonials.title": "家长和学生评价",
        "testimonial1.text": "我女儿的数学成绩在短短4个月内从C提升到A。导师很耐心，讲解概念清晰。",
        "testimonial1.name": "Amina Hassan",
        "testimonial1.role": "中三学生家长",
        "testimonial2.text": "在线课程非常方便。我可以在家学习，互动平台使学习变得有趣。",
        "testimonial2.name": "伟辰",
        "testimonial2.role": "中五学生",
        "testimonial3.text": "EduSmart帮助我的儿子建立了对科学的信心。他现在获得A等成绩，并且真的享受学习。",
        "testimonial3.name": "Raj Kumar",
        "testimonial3.role": "中四学生家长",
        
        // CTA
        "cta.title": "准备好提升成绩了吗？",
        "cta.subtitle": "加入我们的免费试课周，无需承诺。亲身体验我们的教学方法。",
        "cta.button": "立即开始免费试课",
        
        // Footer
        "footer.description": "为马来西亚各地中学生提供优质的在线和线下辅导。",
        "footer.links": "快速链接",
        "footer.contact": "联系我们",
        "footer.address": "马来西亚吉隆坡",
        "footer.rights": "版权所有。",
        "footer.privacy": "隐私政策",
        "footer.terms": "服务条款"
    }
};

// Language manager
let currentLanguage = localStorage.getItem('language') || 'en';

function changeLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });
    
    // Handle placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
            element.placeholder = translations[lang][key];
        }
    });
    
    // Log language change
    logToSheet('info', `Language changed to ${lang}`, 'Language Selector');
}

// Initialize language selector
document.addEventListener('DOMContentLoaded', function() {
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.value = currentLanguage;
        languageSelect.addEventListener('change', function(e) {
            changeLanguage(e.target.value);
        });
    }
    
    // Apply initial language
    changeLanguage(currentLanguage);

});
